"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-forms"))()}Math||((()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js"))();const o={__name:"create",setup(o){const s=e.reactive({password:""}),{globalData:{openId:n}}=new getApp,t=async()=>{const o=s.password.trim();if(""===o)return void e.index.showToast({title:"密码不能为空",duration:1e3,icon:"error"});if(o.length<3||o.length>5)return void e.index.showToast({title:"密码应为 3 到 5 个数字",duration:1e3,icon:"error"});/[^\d]/g.test(o)?e.index.showToast({title:"密码只能是数字",duration:1e3,icon:"error"}):e.index.request({url:"https://wx.zyandwqy.top/home/create",method:"POST",data:{password:s.password,openId:n},success:o=>{if(200!==o.data.code)e.index.showToast({title:o.data.msg,duration:1e3,icon:"error"});else{console.log(o);const s=[];s.push(o.data.map.Homeowner),console.log(s),e.index.setStorageSync("homePersonnelInfo",s),e.index.navigateTo({url:`/pages/join/join?homeId=${o.data.data.homeId}&Homeowner=1`})}},fail:()=>{}})};return(o,n)=>({a:s.password,b:e.o((e=>s.password=e.detail.value)),c:e.p({label:"密码",name:"password"}),d:e.p({modelValue:s}),e:e.o(t)})}},s=e._export_sfc(o,[["__scopeId","data-v-63f0ea12"]]);wx.createPage(s);
